import runtime;
import alg/calc;

main() {
    vars := setTree(^vars, "a", 1.0);
    vars := setTree(^vars, "e", 2.71828);

    test : string = "((((1 - a) - 2) + (a * 2)) + ln(e))";

    test |> s2exp |> println;
    test |> s2exp |> exp2s |> println;
    exp = test |> s2exp;
    calc_exp(exp, ^vars) |> println;

    // "3 4 2 * 1 5 - 2 3 ^ ^ / +" |> calc_spolish |> println;

    // "(0.4 ^ (1/2))" |> s2exp |> exp2spolish |> calc_spolish |> println;

    quit(0);
}